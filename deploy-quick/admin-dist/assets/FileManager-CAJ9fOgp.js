import{r as o,B as Pt,E as _t,F as le,G as Ve,H as Mt,_ as de,c as J,I as Le,g as lt,m as Nt,b as Dt,f as At,K as Lt,J as Bt,C as ct,L as Wt,M as dt,e as Ft,N as zt,A as Ht,d as Ut,p as ut,v as se,h as pt,j as y}from"./index-DOxEGdKT.js";import{a as ue}from"./api-CLxMmQJN.js";import{o as Be,I as Se,R as Vt,t as ft,B as re}from"./button-DgKdKgQi.js";import{R as Xt}from"./EditOutlined-D9s6iUJU.js";import{T as pe,r as Kt,K as Xe,u as Ke,s as qt,C as ne,t as Gt}from"./index-50YUuaol.js";import{a as gt,i as qe,E as je,F as Ge,T as Jt,R as Qt}from"./DeleteOutlined-BiMnbOGP.js";import{u as Yt}from"./Input-CUo6ECZN.js";import{T as Zt,s as G,R as en}from"./index-BXb1MVlp.js";import{a as tn}from"./ExclamationCircleFilled-Byg_8rfJ.js";import{R as nn}from"./CloseCircleFilled-CLg-dlze.js";import{S as mt}from"./index-C87imYVj.js";import{R as rn,M as on}from"./ReloadOutlined-6BN3SnDC.js";import{R as sn,C as Ie}from"./row-BwxrU85I.js";import{S as ke}from"./index-VVKATd8s.js";const an=(e,t=!1)=>t&&e==null?[]:Array.isArray(e)?e:[e];var ln={percent:0,prefixCls:"rc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1,gapPosition:"bottom"},cn=function(){var t=o.useRef([]),n=o.useRef(null);return o.useEffect(function(){var r=Date.now(),s=!1;t.current.forEach(function(a){if(a){s=!0;var l=a.style;l.transitionDuration=".3s, .3s, .3s, .06s",n.current&&r-n.current<100&&(l.transitionDuration="0s, 0s")}}),s&&(n.current=Date.now())}),t.current},Je=0,dn=_t();function un(){var e;return dn?(e=Je,Je+=1):e="TEST_OR_SSR",e}const pn=function(e){var t=o.useState(),n=Pt(t,2),r=n[0],s=n[1];return o.useEffect(function(){s("rc_progress_".concat(un()))},[]),e||r};var Qe=function(t){var n=t.bg,r=t.children;return o.createElement("div",{style:{width:"100%",height:"100%",background:n}},r)};function Ye(e,t){return Object.keys(e).map(function(n){var r=parseFloat(n),s="".concat(Math.floor(r*t),"%");return"".concat(e[n]," ").concat(s)})}var fn=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.color,s=e.gradientId,a=e.radius,l=e.style,u=e.ptg,c=e.strokeLinecap,p=e.strokeWidth,d=e.size,f=e.gapDegree,g=r&&le(r)==="object",S=g?"#FFF":void 0,h=d/2,b=o.createElement("circle",{className:"".concat(n,"-circle-path"),r:a,cx:h,cy:h,stroke:S,strokeLinecap:c,strokeWidth:p,opacity:u===0?0:1,style:l,ref:t});if(!g)return b;var C="".concat(s,"-conic"),i=f?"".concat(180+f/2,"deg"):"0deg",m=Ye(r,(360-f)/360),I=Ye(r,1),x="conic-gradient(from ".concat(i,", ").concat(m.join(", "),")"),$="linear-gradient(to ".concat(f?"bottom":"top",", ").concat(I.join(", "),")");return o.createElement(o.Fragment,null,o.createElement("mask",{id:C},b),o.createElement("foreignObject",{x:0,y:0,width:d,height:d,mask:"url(#".concat(C,")")},o.createElement(Qe,{bg:$},o.createElement(Qe,{bg:x}))))}),ce=100,Re=function(t,n,r,s,a,l,u,c,p,d){var f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:0,g=r/100*360*((360-l)/360),S=l===0?0:{bottom:0,top:180,left:90,right:-90}[u],h=(100-s)/100*n;p==="round"&&s!==100&&(h+=d/2,h>=n&&(h=n-.01));var b=ce/2;return{stroke:typeof c=="string"?c:void 0,strokeDasharray:"".concat(n,"px ").concat(t),strokeDashoffset:h+f,transform:"rotate(".concat(a+g+S,"deg)"),transformOrigin:"".concat(b,"px ").concat(b,"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s",fillOpacity:0}},gn=["id","prefixCls","steps","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","style","className","strokeColor","percent"];function Ze(e){var t=e??[];return Array.isArray(t)?t:[t]}var mn=function(t){var n=Ve(Ve({},ln),t),r=n.id,s=n.prefixCls,a=n.steps,l=n.strokeWidth,u=n.trailWidth,c=n.gapDegree,p=c===void 0?0:c,d=n.gapPosition,f=n.trailColor,g=n.strokeLinecap,S=n.style,h=n.className,b=n.strokeColor,C=n.percent,i=Mt(n,gn),m=ce/2,I=pn(r),x="".concat(I,"-gradient"),$=m-l/2,k=Math.PI*2*$,O=p>0?90+p/2:-90,P=k*((360-p)/360),N=le(a)==="object"?a:{count:a,gap:2},E=N.count,F=N.gap,H=Ze(C),D=Ze(b),j=D.find(function(L){return L&&le(L)==="object"}),T=j&&le(j)==="object",R=T?"butt":g,B=Re(k,P,0,100,O,p,d,f,R,l),_=cn(),M=function(){var U=0;return H.map(function(V,Y){var oe=D[Y]||D[D.length-1],ee=Re(k,P,U,V,O,p,d,oe,R,l);return U+=V,o.createElement(fn,{key:Y,color:oe,ptg:V,radius:$,prefixCls:s,gradientId:x,style:ee,strokeLinecap:R,strokeWidth:l,gapDegree:p,ref:function(ie){_[Y]=ie},size:ce})}).reverse()},A=function(){var U=Math.round(E*(H[0]/100)),V=100/E,Y=0;return new Array(E).fill(null).map(function(oe,ee){var te=ee<=U-1?D[0]:f,ie=te&&le(te)==="object"?"url(#".concat(x,")"):void 0,ge=Re(k,P,Y,V,O,p,d,te,"butt",l,F);return Y+=(P-ge.strokeDashoffset+F)*100/P,o.createElement("circle",{key:ee,className:"".concat(s,"-circle-path"),r:$,cx:m,cy:m,stroke:ie,strokeWidth:l,opacity:1,style:ge,ref:function(X){_[ee]=X}})})};return o.createElement("svg",de({className:J("".concat(s,"-circle"),h),viewBox:"0 0 ".concat(ce," ").concat(ce),style:S,id:r,role:"presentation"},i),!E&&o.createElement("circle",{className:"".concat(s,"-circle-trail"),r:$,cx:m,cy:m,stroke:f,strokeLinecap:R,strokeWidth:u||l,style:B}),E?A():M())};function Z(e){return!e||e<0?0:e>100?100:e}function be({success:e,successPercent:t}){let n=t;return e&&"progress"in e&&(n=e.progress),e&&"percent"in e&&(n=e.percent),n}const yn=({percent:e,success:t,successPercent:n})=>{const r=Z(be({success:t,successPercent:n}));return[r,Z(Z(e)-r)]},hn=({success:e={},strokeColor:t})=>{const{strokeColor:n}=e;return[n||Le.green,t||null]},Ce=(e,t,n)=>{var r,s,a,l;let u=-1,c=-1;if(t==="step"){const p=n.steps,d=n.strokeWidth;typeof e=="string"||typeof e>"u"?(u=e==="small"?2:14,c=d??8):typeof e=="number"?[u,c]=[e,e]:[u=14,c=8]=Array.isArray(e)?e:[e.width,e.height],u*=p}else if(t==="line"){const p=n==null?void 0:n.strokeWidth;typeof e=="string"||typeof e>"u"?c=p||(e==="small"?6:8):typeof e=="number"?[u,c]=[e,e]:[u=-1,c=8]=Array.isArray(e)?e:[e.width,e.height]}else(t==="circle"||t==="dashboard")&&(typeof e=="string"||typeof e>"u"?[u,c]=e==="small"?[60,60]:[120,120]:typeof e=="number"?[u,c]=[e,e]:Array.isArray(e)&&(u=(s=(r=e[0])!==null&&r!==void 0?r:e[1])!==null&&s!==void 0?s:120,c=(l=(a=e[0])!==null&&a!==void 0?a:e[1])!==null&&l!==void 0?l:120));return[u,c]},vn=3,bn=e=>vn/e*100,xn=e=>{const{prefixCls:t,trailColor:n=null,strokeLinecap:r="round",gapPosition:s,gapDegree:a,width:l=120,type:u,children:c,success:p,size:d=l,steps:f}=e,[g,S]=Ce(d,"circle");let{strokeWidth:h}=e;h===void 0&&(h=Math.max(bn(g),6));const b={width:g,height:S,fontSize:g*.15+6},C=o.useMemo(()=>{if(a||a===0)return a;if(u==="dashboard")return 75},[a,u]),i=yn(e),m=s||u==="dashboard"&&"bottom"||void 0,I=Object.prototype.toString.call(e.strokeColor)==="[object Object]",x=hn({success:p,strokeColor:e.strokeColor}),$=J(`${t}-inner`,{[`${t}-circle-gradient`]:I}),k=o.createElement(mn,{steps:f,percent:f?i[1]:i,strokeWidth:h,trailWidth:h,strokeColor:f?x[1]:x,strokeLinecap:r,trailColor:n,prefixCls:t,gapDegree:C,gapPosition:m}),O=g<=20,P=o.createElement("div",{className:$,style:b},k,!O&&c);return O?o.createElement(pe,{title:c},P):P},xe="--progress-line-stroke-color",yt="--progress-percent",et=e=>{const t=e?"100%":"-100%";return new Lt(`antProgress${e?"RTL":"LTR"}Active`,{"0%":{transform:`translateX(${t}) scaleX(0)`,opacity:.1},"20%":{transform:`translateX(${t}) scaleX(0)`,opacity:.5},to:{transform:"translateX(0) scaleX(1)",opacity:0}})},Sn=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:Object.assign(Object.assign({},Dt(e)),{display:"inline-block","&-rtl":{direction:"rtl"},"&-line":{position:"relative",width:"100%",fontSize:e.fontSize},[`${t}-outer`]:{display:"inline-flex",alignItems:"center",width:"100%"},[`${t}-inner`]:{position:"relative",display:"inline-block",width:"100%",flex:1,overflow:"hidden",verticalAlign:"middle",backgroundColor:e.remainingColor,borderRadius:e.lineBorderRadius},[`${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.defaultColor}},[`${t}-success-bg, ${t}-bg`]:{position:"relative",background:e.defaultColor,borderRadius:e.lineBorderRadius,transition:`all ${e.motionDurationSlow} ${e.motionEaseInOutCirc}`},[`${t}-layout-bottom`]:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",[`${t}-text`]:{width:"max-content",marginInlineStart:0,marginTop:e.marginXXS}},[`${t}-bg`]:{overflow:"hidden","&::after":{content:'""',background:{_multi_value_:!0,value:["inherit",`var(${xe})`]},height:"100%",width:`calc(1 / var(${yt}) * 100%)`,display:"block"},[`&${t}-bg-inner`]:{minWidth:"max-content","&::after":{content:"none"},[`${t}-text-inner`]:{color:e.colorWhite,[`&${t}-text-bright`]:{color:"rgba(0, 0, 0, 0.45)"}}}},[`${t}-success-bg`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,backgroundColor:e.colorSuccess},[`${t}-text`]:{display:"inline-block",marginInlineStart:e.marginXS,color:e.colorText,lineHeight:1,width:"2em",whiteSpace:"nowrap",textAlign:"start",verticalAlign:"middle",wordBreak:"normal",[n]:{fontSize:e.fontSize},[`&${t}-text-outer`]:{width:"max-content"},[`&${t}-text-outer${t}-text-start`]:{width:"max-content",marginInlineStart:0,marginInlineEnd:e.marginXS}},[`${t}-text-inner`]:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",marginInlineStart:0,padding:`0 ${At(e.paddingXXS)}`,[`&${t}-text-start`]:{justifyContent:"start"},[`&${t}-text-end`]:{justifyContent:"end"}},[`&${t}-status-active`]:{[`${t}-bg::before`]:{position:"absolute",inset:0,backgroundColor:e.colorBgContainer,borderRadius:e.lineBorderRadius,opacity:0,animationName:et(),animationDuration:e.progressActiveMotionDuration,animationTimingFunction:e.motionEaseOutQuint,animationIterationCount:"infinite",content:'""'}},[`&${t}-rtl${t}-status-active`]:{[`${t}-bg::before`]:{animationName:et(!0)}},[`&${t}-status-exception`]:{[`${t}-bg`]:{backgroundColor:e.colorError},[`${t}-text`]:{color:e.colorError}},[`&${t}-status-exception ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorError}},[`&${t}-status-success`]:{[`${t}-bg`]:{backgroundColor:e.colorSuccess},[`${t}-text`]:{color:e.colorSuccess}},[`&${t}-status-success ${t}-inner:not(${t}-circle-gradient)`]:{[`${t}-circle-path`]:{stroke:e.colorSuccess}}})}},Cn=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-circle-trail`]:{stroke:e.remainingColor},[`&${t}-circle ${t}-inner`]:{position:"relative",lineHeight:1,backgroundColor:"transparent"},[`&${t}-circle ${t}-text`]:{position:"absolute",insetBlockStart:"50%",insetInlineStart:0,width:"100%",margin:0,padding:0,color:e.circleTextColor,fontSize:e.circleTextFontSize,lineHeight:1,whiteSpace:"normal",textAlign:"center",transform:"translateY(-50%)",[n]:{fontSize:e.circleIconFontSize}},[`${t}-circle&-status-exception`]:{[`${t}-text`]:{color:e.colorError}},[`${t}-circle&-status-success`]:{[`${t}-text`]:{color:e.colorSuccess}}},[`${t}-inline-circle`]:{lineHeight:1,[`${t}-inner`]:{verticalAlign:"bottom"}}}},En=e=>{const{componentCls:t}=e;return{[t]:{[`${t}-steps`]:{display:"inline-block","&-outer":{display:"flex",flexDirection:"row",alignItems:"center"},"&-item":{flexShrink:0,minWidth:e.progressStepMinWidth,marginInlineEnd:e.progressStepMarginInlineEnd,backgroundColor:e.remainingColor,transition:`all ${e.motionDurationSlow}`,"&-active":{backgroundColor:e.defaultColor}}}}}},wn=e=>{const{componentCls:t,iconCls:n}=e;return{[t]:{[`${t}-small&-line, ${t}-small&-line ${t}-text ${n}`]:{fontSize:e.fontSizeSM}}}},$n=e=>({circleTextColor:e.colorText,defaultColor:e.colorInfo,remainingColor:e.colorFillSecondary,lineBorderRadius:100,circleTextFontSize:"1em",circleIconFontSize:`${e.fontSize/e.fontSizeSM}em`}),On=lt("Progress",e=>{const t=e.calc(e.marginXXS).div(2).equal(),n=Nt(e,{progressStepMarginInlineEnd:t,progressStepMinWidth:t,progressActiveMotionDuration:"2.4s"});return[Sn(n),Cn(n),En(n),wn(n)]},$n);var jn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const In=e=>{let t=[];return Object.keys(e).forEach(n=>{const r=Number.parseFloat(n.replace(/%/g,""));Number.isNaN(r)||t.push({key:r,value:e[n]})}),t=t.sort((n,r)=>n.key-r.key),t.map(({key:n,value:r})=>`${r} ${n}%`).join(", ")},kn=(e,t)=>{const{from:n=Le.blue,to:r=Le.blue,direction:s=t==="rtl"?"to left":"to right"}=e,a=jn(e,["from","to","direction"]);if(Object.keys(a).length!==0){const u=In(a),c=`linear-gradient(${s}, ${u})`;return{background:c,[xe]:c}}const l=`linear-gradient(${s}, ${n}, ${r})`;return{background:l,[xe]:l}},Rn=e=>{const{prefixCls:t,direction:n,percent:r,size:s,strokeWidth:a,strokeColor:l,strokeLinecap:u="round",children:c,trailColor:p=null,percentPosition:d,success:f}=e,{align:g,type:S}=d,h=l&&typeof l!="string"?kn(l,n):{[xe]:l,background:l},b=u==="square"||u==="butt"?0:void 0,C=s??[-1,a||(s==="small"?6:8)],[i,m]=Ce(C,"line",{strokeWidth:a}),I={backgroundColor:p||void 0,borderRadius:b},x=Object.assign(Object.assign({width:`${Z(r)}%`,height:m,borderRadius:b},h),{[yt]:Z(r)/100}),$=be(e),k={width:`${Z($)}%`,height:m,borderRadius:b,backgroundColor:f==null?void 0:f.strokeColor},O={width:i<0?"100%":i},P=o.createElement("div",{className:`${t}-inner`,style:I},o.createElement("div",{className:J(`${t}-bg`,`${t}-bg-${S}`),style:x},S==="inner"&&c),$!==void 0&&o.createElement("div",{className:`${t}-success-bg`,style:k})),N=S==="outer"&&g==="start",E=S==="outer"&&g==="end";return S==="outer"&&g==="center"?o.createElement("div",{className:`${t}-layout-bottom`},P,c):o.createElement("div",{className:`${t}-outer`,style:O},N&&c,P,E&&c)},Tn=e=>{const{size:t,steps:n,rounding:r=Math.round,percent:s=0,strokeWidth:a=8,strokeColor:l,trailColor:u=null,prefixCls:c,children:p}=e,d=r(n*(s/100)),g=t??[t==="small"?2:14,a],[S,h]=Ce(g,"step",{steps:n,strokeWidth:a}),b=S/n,C=Array.from({length:n});for(let i=0;i<n;i++){const m=Array.isArray(l)?l[i]:l;C[i]=o.createElement("div",{key:i,className:J(`${c}-steps-item`,{[`${c}-steps-item-active`]:i<=d-1}),style:{backgroundColor:i<=d-1?m:u,width:b,height:h}})}return o.createElement("div",{className:`${c}-steps-outer`},C,p)};var Pn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const _n=["normal","exception","active","success"],Mn=o.forwardRef((e,t)=>{const{prefixCls:n,className:r,rootClassName:s,steps:a,strokeColor:l,percent:u=0,size:c="default",showInfo:p=!0,type:d="line",status:f,format:g,style:S,percentPosition:h={}}=e,b=Pn(e,["prefixCls","className","rootClassName","steps","strokeColor","percent","size","showInfo","type","status","format","style","percentPosition"]),{align:C="end",type:i="outer"}=h,m=Array.isArray(l)?l[0]:l,I=typeof l=="string"||Array.isArray(l)?l:void 0,x=o.useMemo(()=>{if(m){const M=typeof m=="string"?m:Object.values(m)[0];return new Bt(M).isLight()}return!1},[l]),$=o.useMemo(()=>{var M,A;const L=be(e);return Number.parseInt(L!==void 0?(M=L??0)===null||M===void 0?void 0:M.toString():(A=u??0)===null||A===void 0?void 0:A.toString(),10)},[u,e.success,e.successPercent]),k=o.useMemo(()=>!_n.includes(f)&&$>=100?"success":f||"normal",[f,$]),{getPrefixCls:O,direction:P,progress:N}=o.useContext(ct),E=O("progress",n),[F,H,D]=On(E),j=d==="line",T=j&&!a,R=o.useMemo(()=>{if(!p)return null;const M=be(e);let A;const L=g||(V=>`${V}%`),U=j&&x&&i==="inner";return i==="inner"||g||k!=="exception"&&k!=="success"?A=L(Z(u),Z(M)):k==="exception"?A=j?o.createElement(nn,null):o.createElement(Kt,null):k==="success"&&(A=j?o.createElement(tn,null):o.createElement(gt,null)),o.createElement("span",{className:J(`${E}-text`,{[`${E}-text-bright`]:U,[`${E}-text-${C}`]:T,[`${E}-text-${i}`]:T}),title:typeof A=="string"?A:void 0},A)},[p,u,$,k,d,E,g]);let B;d==="line"?B=a?o.createElement(Tn,Object.assign({},e,{strokeColor:I,prefixCls:E,steps:typeof a=="object"?a.count:a}),R):o.createElement(Rn,Object.assign({},e,{strokeColor:m,prefixCls:E,direction:P,percentPosition:{align:C,type:i}}),R):(d==="circle"||d==="dashboard")&&(B=o.createElement(xn,Object.assign({},e,{strokeColor:m,prefixCls:E,progressStatus:k}),R));const _=J(E,`${E}-status-${k}`,{[`${E}-${d==="dashboard"&&"circle"||d}`]:d!=="line",[`${E}-inline-circle`]:d==="circle"&&Ce(c,"circle")[0]<=20,[`${E}-line`]:T,[`${E}-line-align-${C}`]:T,[`${E}-line-position-${i}`]:T,[`${E}-steps`]:a,[`${E}-show-info`]:p,[`${E}-${c}`]:typeof c=="string",[`${E}-rtl`]:P==="rtl"},N==null?void 0:N.className,r,s,H,D);return F(o.createElement("div",Object.assign({ref:t,style:Object.assign(Object.assign({},N==null?void 0:N.style),S),className:_,role:"progressbar","aria-valuenow":$,"aria-valuemin":0,"aria-valuemax":100},Be(b,["trailColor","strokeWidth","width","gapDegree","gapPosition","strokeLinecap","success","successPercent"])),B))});var Nn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"},Dn=function(t,n){return o.createElement(Se,de({},t,{ref:n,icon:Nn}))},An=o.forwardRef(Dn);const Ln=(e,t,n,r)=>{const{titleMarginBottom:s,fontWeightStrong:a}=r;return{marginBottom:s,color:n,fontWeight:a,fontSize:e,lineHeight:t}},Bn=e=>{const t=[1,2,3,4,5],n={};return t.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=Ln(e[`fontSizeHeading${r}`],e[`lineHeightHeading${r}`],e.colorTextHeading,e)}),n},Wn=e=>{const{componentCls:t}=e;return{"a&, a":Object.assign(Object.assign({},dt(e)),{userSelect:"text",[`&[disabled], &${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:e.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},Fn=e=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",fontFamily:e.fontFamilyCode,background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:Wt[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:e.fontWeightStrong},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,fontFamily:e.fontFamilyCode,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),zn=e=>{const{componentCls:t,paddingSM:n}=e,r=n;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:e.calc(e.paddingSM).mul(-1).equal(),insetBlockStart:e.calc(r).div(-2).add(1).equal(),marginBottom:e.calc(r).div(2).sub(2).equal()},[`${t}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:e.calc(e.marginXS).add(2).equal(),insetBlockEnd:e.marginXS,color:e.colorIcon,fontWeight:"normal",fontSize:e.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},Hn=e=>({[`${e.componentCls}-copy-success`]:{"\n    &,\n    &:hover,\n    &:focus":{color:e.colorSuccess}},[`${e.componentCls}-copy-icon-only`]:{marginInlineStart:0}}),Un=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-ellipsis-single-line":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"},"> code":{paddingBlock:0,maxWidth:"calc(100% - 1.2em)",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",verticalAlign:"bottom",boxSizing:"content-box"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),Vn=e=>{const{componentCls:t,titleMarginTop:n}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({color:e.colorText,wordBreak:"break-word",lineHeight:e.lineHeight,[`&${t}-secondary`]:{color:e.colorTextDescription},[`&${t}-success`]:{color:e.colorSuccessText},[`&${t}-warning`]:{color:e.colorWarningText},[`&${t}-danger`]:{color:e.colorErrorText,"a&:active, a&:focus":{color:e.colorErrorTextActive},"a&:hover":{color:e.colorErrorTextHover}},[`&${t}-disabled`]:{color:e.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},Bn(e)),{[`
      & + h1${t},
      & + h2${t},
      & + h3${t},
      & + h4${t},
      & + h5${t}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),Fn(e)),Wn(e)),{[`
        ${t}-expand,
        ${t}-collapse,
        ${t}-edit,
        ${t}-copy
      `]:Object.assign(Object.assign({},dt(e)),{marginInlineStart:e.marginXXS})}),zn(e)),Hn(e)),Un()),{"&-rtl":{direction:"rtl"}})}},Xn=()=>({titleMarginTop:"1.2em",titleMarginBottom:"0.5em"}),ht=lt("Typography",Vn,Xn),Kn=e=>{const{prefixCls:t,"aria-label":n,className:r,style:s,direction:a,maxLength:l,autoSize:u=!0,value:c,onSave:p,onCancel:d,onEnd:f,component:g,enterIcon:S=o.createElement(An,null)}=e,h=o.useRef(null),b=o.useRef(!1),C=o.useRef(null),[i,m]=o.useState(c);o.useEffect(()=>{m(c)},[c]),o.useEffect(()=>{var j;if(!((j=h.current)===null||j===void 0)&&j.resizableTextArea){const{textArea:T}=h.current.resizableTextArea;T.focus();const{length:R}=T.value;T.setSelectionRange(R,R)}},[]);const I=({target:j})=>{m(j.value.replace(/[\n\r]/g,""))},x=()=>{b.current=!0},$=()=>{b.current=!1},k=({keyCode:j})=>{b.current||(C.current=j)},O=()=>{p(i.trim())},P=({keyCode:j,ctrlKey:T,altKey:R,metaKey:B,shiftKey:_})=>{C.current!==j||b.current||T||R||B||_||(j===Xe.ENTER?(O(),f==null||f()):j===Xe.ESC&&d())},N=()=>{O()},[E,F,H]=ht(t),D=J(t,`${t}-edit-content`,{[`${t}-rtl`]:a==="rtl",[`${t}-${g}`]:!!g},r,F,H);return E(o.createElement("div",{className:D,style:s},o.createElement(Zt,{ref:h,maxLength:l,value:i,onChange:I,onKeyDown:k,onKeyUp:P,onCompositionStart:x,onCompositionEnd:$,onBlur:N,"aria-label":n,rows:1,autoSize:u}),S!==null?Ft(S,{className:`${t}-edit-content-confirm`}):null))};var qn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(s){e.addRange(s)}),t&&t.focus()}},Gn=qn,tt={"text/plain":"Text","text/html":"Url",default:"Text"},Jn="Copy to clipboard: #{key}, Enter";function Qn(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function Yn(e,t){var n,r,s,a,l,u,c=!1;t||(t={}),n=t.debug||!1;try{s=Gn(),a=document.createRange(),l=document.getSelection(),u=document.createElement("span"),u.textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=tt[t.format]||tt.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(u),a.selectNodeContents(u),l.addRange(a);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=Qn("message"in t?t.message:Jn),window.prompt(r,e)}}finally{l&&(typeof l.removeRange=="function"?l.removeRange(a):l.removeAllRanges()),u&&document.body.removeChild(u),s()}return c}var Zn=Yn;const er=zt(Zn);var tr=function(e,t,n,r){function s(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(d){try{p(r.next(d))}catch(f){l(f)}}function c(d){try{p(r.throw(d))}catch(f){l(f)}}function p(d){d.done?a(d.value):s(d.value).then(u,c)}p((r=r.apply(e,t||[])).next())})};const nr=({copyConfig:e,children:t})=>{const[n,r]=o.useState(!1),[s,a]=o.useState(!1),l=o.useRef(null),u=()=>{l.current&&clearTimeout(l.current)},c={};e.format&&(c.format=e.format),o.useEffect(()=>u,[]);const p=Ht(d=>tr(void 0,void 0,void 0,function*(){var f;d==null||d.preventDefault(),d==null||d.stopPropagation(),a(!0);try{const g=typeof e.text=="function"?yield e.text():e.text;er(g||an(t,!0).join("")||"",c),a(!1),r(!0),u(),l.current=setTimeout(()=>{r(!1)},3e3),(f=e.onCopy)===null||f===void 0||f.call(e,d)}catch(g){throw a(!1),g}}));return{copied:n,copyLoading:s,onClick:p}};function Te(e,t){return o.useMemo(()=>{const n=!!e;return[n,Object.assign(Object.assign({},t),n&&typeof e=="object"?e:null)]},[e])}const rr=e=>{const t=o.useRef(void 0);return o.useEffect(()=>{t.current=e}),t.current},or=(e,t,n)=>o.useMemo(()=>e===!0?{title:t??n}:o.isValidElement(e)?{title:e}:typeof e=="object"?Object.assign({title:t??n},e):{title:e},[e,t,n]);var sr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const vt=o.forwardRef((e,t)=>{const{prefixCls:n,component:r="article",className:s,rootClassName:a,setContentRef:l,children:u,direction:c,style:p}=e,d=sr(e,["prefixCls","component","className","rootClassName","setContentRef","children","direction","style"]),{getPrefixCls:f,direction:g,className:S,style:h}=Ut("typography"),b=c??g,C=l?ut(t,l):t,i=f("typography",n),[m,I,x]=ht(i),$=J(i,S,{[`${i}-rtl`]:b==="rtl"},s,a,I,x),k=Object.assign(Object.assign({},h),p);return m(o.createElement(r,Object.assign({className:$,style:k,ref:C},d),u))});var ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"},ar=function(t,n){return o.createElement(Se,de({},t,{ref:n,icon:ir}))},lr=o.forwardRef(ar);function nt(e){return e===!1?[!1,!1]:Array.isArray(e)?e:[e]}function Pe(e,t,n){return e===!0||e===void 0?t:e||n&&t}function cr(e){const t=document.createElement("em");e.appendChild(t);const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();return e.removeChild(t),n.left>r.left||r.right>n.right||n.top>r.top||r.bottom>n.bottom}const We=e=>["string","number"].includes(typeof e),dr=({prefixCls:e,copied:t,locale:n,iconOnly:r,tooltips:s,icon:a,tabIndex:l,onCopy:u,loading:c})=>{const p=nt(s),d=nt(a),{copied:f,copy:g}=n??{},S=t?f:g,h=Pe(p[t?1:0],S),b=typeof h=="string"?h:S;return o.createElement(pe,{title:h},o.createElement("button",{type:"button",className:J(`${e}-copy`,{[`${e}-copy-success`]:t,[`${e}-copy-icon-only`]:r}),onClick:u,"aria-label":b,tabIndex:l},t?Pe(d[1],o.createElement(gt,null),!0):Pe(d[0],c?o.createElement(Vt,null):o.createElement(lr,null),!0)))},he=o.forwardRef(({style:e,children:t},n)=>{const r=o.useRef(null);return o.useImperativeHandle(n,()=>({isExceed:()=>{const s=r.current;return s.scrollHeight>s.clientHeight},getHeight:()=>r.current.clientHeight})),o.createElement("span",{"aria-hidden":!0,ref:r,style:Object.assign({position:"fixed",display:"block",left:0,top:0,pointerEvents:"none",backgroundColor:"rgba(255, 0, 0, 0.65)"},e)},t)}),ur=e=>e.reduce((t,n)=>t+(We(n)?String(n).length:1),0);function rt(e,t){let n=0;const r=[];for(let s=0;s<e.length;s+=1){if(n===t)return r;const a=e[s],u=We(a)?String(a).length:1,c=n+u;if(c>t){const p=t-n;return r.push(String(a).slice(0,p)),r}r.push(a),n=c}return e}const _e=0,Me=1,Ne=2,De=3,ot=4,ve={display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical"};function pr(e){const{enableMeasure:t,width:n,text:r,children:s,rows:a,expanded:l,miscDeps:u,onEllipsis:c}=e,p=o.useMemo(()=>ft(r),[r]),d=o.useMemo(()=>ur(p),[r]),f=o.useMemo(()=>s(p,!1),[r]),[g,S]=o.useState(null),h=o.useRef(null),b=o.useRef(null),C=o.useRef(null),i=o.useRef(null),m=o.useRef(null),[I,x]=o.useState(!1),[$,k]=o.useState(_e),[O,P]=o.useState(0),[N,E]=o.useState(null);se(()=>{k(t&&n&&d?Me:_e)},[n,r,a,t,p]),se(()=>{var j,T,R,B;if($===Me){k(Ne);const _=b.current&&getComputedStyle(b.current).whiteSpace;E(_)}else if($===Ne){const _=!!(!((j=C.current)===null||j===void 0)&&j.isExceed());k(_?De:ot),S(_?[0,d]:null),x(_);const M=((T=C.current)===null||T===void 0?void 0:T.getHeight())||0,A=a===1?0:((R=i.current)===null||R===void 0?void 0:R.getHeight())||0,L=((B=m.current)===null||B===void 0?void 0:B.getHeight())||0,U=Math.max(M,A+L);P(U+1),c(_)}},[$]);const F=g?Math.ceil((g[0]+g[1])/2):0;se(()=>{var j;const[T,R]=g||[0,0];if(T!==R){const _=(((j=h.current)===null||j===void 0?void 0:j.getHeight())||0)>O;let M=F;R-T===1&&(M=_?T:R),S(_?[T,M]:[M,R])}},[g,F]);const H=o.useMemo(()=>{if(!t)return s(p,!1);if($!==De||!g||g[0]!==g[1]){const j=s(p,!1);return[ot,_e].includes($)?j:o.createElement("span",{style:Object.assign(Object.assign({},ve),{WebkitLineClamp:a})},j)}return s(l?p:rt(p,g[0]),I)},[l,$,g,p].concat(pt(u))),D={width:n,margin:0,padding:0,whiteSpace:N==="nowrap"?"normal":"inherit"};return o.createElement(o.Fragment,null,H,$===Ne&&o.createElement(o.Fragment,null,o.createElement(he,{style:Object.assign(Object.assign(Object.assign({},D),ve),{WebkitLineClamp:a}),ref:C},f),o.createElement(he,{style:Object.assign(Object.assign(Object.assign({},D),ve),{WebkitLineClamp:a-1}),ref:i},f),o.createElement(he,{style:Object.assign(Object.assign(Object.assign({},D),ve),{WebkitLineClamp:1}),ref:m},s([],!0))),$===De&&g&&g[0]!==g[1]&&o.createElement(he,{style:Object.assign(Object.assign({},D),{top:400}),ref:h},s(rt(p,F),!0)),$===Me&&o.createElement("span",{style:{whiteSpace:"inherit"},ref:b}))}const fr=({enableEllipsis:e,isEllipsis:t,children:n,tooltipProps:r})=>!(r!=null&&r.title)||!e?n:o.createElement(pe,Object.assign({open:t?void 0:!1},r),n);var gr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function mr({mark:e,code:t,underline:n,delete:r,strong:s,keyboard:a,italic:l},u){let c=u;function p(d,f){f&&(c=o.createElement(d,{},c))}return p("strong",s),p("u",n),p("del",r),p("code",t),p("mark",e),p("kbd",a),p("i",l),c}const yr="...",st=["delete","mark","code","underline","strong","keyboard","italic"],Ee=o.forwardRef((e,t)=>{var n;const{prefixCls:r,className:s,style:a,type:l,disabled:u,children:c,ellipsis:p,editable:d,copyable:f,component:g,title:S}=e,h=gr(e,["prefixCls","className","style","type","disabled","children","ellipsis","editable","copyable","component","title"]),{getPrefixCls:b,direction:C}=o.useContext(ct),[i]=Yt("Text"),m=o.useRef(null),I=o.useRef(null),x=b("typography",r),$=Be(h,st),[k,O]=Te(d),[P,N]=Ke(!1,{value:O.editing}),{triggerType:E=["icon"]}=O,F=v=>{var w;v&&((w=O.onStart)===null||w===void 0||w.call(O)),N(v)},H=rr(P);se(()=>{var v;!P&&H&&((v=I.current)===null||v===void 0||v.focus())},[P]);const D=v=>{v==null||v.preventDefault(),F(!0)},j=v=>{var w;(w=O.onChange)===null||w===void 0||w.call(O,v),F(!1)},T=()=>{var v;(v=O.onCancel)===null||v===void 0||v.call(O),F(!1)},[R,B]=Te(f),{copied:_,copyLoading:M,onClick:A}=nr({copyConfig:B,children:c}),[L,U]=o.useState(!1),[V,Y]=o.useState(!1),[oe,ee]=o.useState(!1),[te,ie]=o.useState(!1),[ge,Fe]=o.useState(!0),[X,W]=Te(p,{expandable:!1,symbol:v=>v?i==null?void 0:i.collapse:i==null?void 0:i.expand}),[Q,bt]=Ke(W.defaultExpanded||!1,{value:W.expanded}),z=X&&(!Q||W.expandable==="collapsible"),{rows:ae=1}=W,me=o.useMemo(()=>z&&(W.suffix!==void 0||W.onEllipsis||W.expandable||k||R),[z,W,k,R]);se(()=>{X&&!me&&(U(qe("webkitLineClamp")),Y(qe("textOverflow")))},[me,X]);const[K,xt]=o.useState(z),ze=o.useMemo(()=>me?!1:ae===1?V:L,[me,V,L]);se(()=>{xt(ze&&z)},[ze,z]);const He=z&&(K?te:oe),St=z&&ae===1&&K,we=z&&ae>1&&K,Ct=(v,w)=>{var q;bt(w.expanded),(q=W.onExpand)===null||q===void 0||q.call(W,v,w)},[Ue,Et]=o.useState(0),wt=({offsetWidth:v})=>{Et(v)},$t=v=>{var w;ee(v),oe!==v&&((w=W.onEllipsis)===null||w===void 0||w.call(W,v))};o.useEffect(()=>{const v=m.current;if(X&&K&&v){const w=cr(v);te!==w&&ie(w)}},[X,K,c,we,ge,Ue]),o.useEffect(()=>{const v=m.current;if(typeof IntersectionObserver>"u"||!v||!K||!z)return;const w=new IntersectionObserver(()=>{Fe(!!v.offsetParent)});return w.observe(v),()=>{w.disconnect()}},[K,z]);const $e=or(W.tooltip,O.text,c),ye=o.useMemo(()=>{if(!(!X||K))return[O.text,c,S,$e.title].find(We)},[X,K,S,$e.title,He]);if(P)return o.createElement(Kn,{value:(n=O.text)!==null&&n!==void 0?n:typeof c=="string"?c:"",onSave:j,onCancel:T,onEnd:O.onEnd,prefixCls:x,className:s,style:a,direction:C,component:g,maxLength:O.maxLength,autoSize:O.autoSize,enterIcon:O.enterIcon});const Ot=()=>{const{expandable:v,symbol:w}=W;return v?o.createElement("button",{type:"button",key:"expand",className:`${x}-${Q?"collapse":"expand"}`,onClick:q=>Ct(q,{expanded:!Q}),"aria-label":Q?i.collapse:i==null?void 0:i.expand},typeof w=="function"?w(Q):w):null},jt=()=>{if(!k)return;const{icon:v,tooltip:w,tabIndex:q}=O,Oe=ft(w)[0]||(i==null?void 0:i.edit),Tt=typeof Oe=="string"?Oe:"";return E.includes("icon")?o.createElement(pe,{key:"edit",title:w===!1?"":Oe},o.createElement("button",{type:"button",ref:I,className:`${x}-edit`,onClick:D,"aria-label":Tt,tabIndex:q},v||o.createElement(Xt,{role:"button"}))):null},It=()=>R?o.createElement(dr,Object.assign({key:"copy"},B,{prefixCls:x,copied:_,locale:i,onCopy:A,loading:M,iconOnly:c==null})):null,kt=v=>[v&&Ot(),jt(),It()],Rt=v=>[v&&!Q&&o.createElement("span",{"aria-hidden":!0,key:"ellipsis"},yr),W.suffix,kt(v)];return o.createElement(qt,{onResize:wt,disabled:!z},v=>o.createElement(fr,{tooltipProps:$e,enableEllipsis:z,isEllipsis:He},o.createElement(vt,Object.assign({className:J({[`${x}-${l}`]:l,[`${x}-disabled`]:u,[`${x}-ellipsis`]:X,[`${x}-ellipsis-single-line`]:St,[`${x}-ellipsis-multiple-line`]:we},s),prefixCls:r,style:Object.assign(Object.assign({},a),{WebkitLineClamp:we?ae:void 0}),component:g,ref:ut(v,m,t),direction:C,onClick:E.includes("text")?D:void 0,"aria-label":ye==null?void 0:ye.toString(),title:S},$),o.createElement(pr,{enableMeasure:z&&!K,text:c,rows:ae,width:Ue,onEllipsis:$t,expanded:Q,miscDeps:[_,Q,M,k,R,i].concat(pt(st.map(w=>e[w])))},(w,q)=>mr(e,o.createElement(o.Fragment,null,w.length>0&&q&&!Q&&ye?o.createElement("span",{key:"show-content","aria-hidden":!0},w):w,Rt(q)))))))});var hr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const vr=o.forwardRef((e,t)=>{var{ellipsis:n,rel:r}=e,s=hr(e,["ellipsis","rel"]);const a=Object.assign(Object.assign({},s),{rel:r===void 0&&s.target==="_blank"?"noopener noreferrer":r});return delete a.navigate,o.createElement(Ee,Object.assign({},a,{ref:t,ellipsis:!!n,component:"a"}))}),br=o.forwardRef((e,t)=>o.createElement(Ee,Object.assign({ref:t},e,{component:"div"})));var xr=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const Sr=(e,t)=>{var{ellipsis:n}=e,r=xr(e,["ellipsis"]);const s=o.useMemo(()=>n&&typeof n=="object"?Be(n,["expandable","rows"]):n,[n]);return o.createElement(Ee,Object.assign({ref:t},r,{ellipsis:s,component:"span"}))},Cr=o.forwardRef(Sr);var Er=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const wr=[1,2,3,4,5],$r=o.forwardRef((e,t)=>{const{level:n=1}=e,r=Er(e,["level"]),s=wr.includes(n)?`h${n}`:"h1";return o.createElement(Ee,Object.assign({ref:t},r,{component:s}))}),fe=vt;fe.Text=Cr;fe.Link=vr;fe.Title=$r;fe.Paragraph=br;var Or={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},jr=function(t,n){return o.createElement(Se,de({},t,{ref:n,icon:Or}))},Ir=o.forwardRef(jr),kr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},Rr=function(t,n){return o.createElement(Se,de({},t,{ref:n,icon:kr}))},Tr=o.forwardRef(Rr);const Pr=async e=>{const t=new FormData;return t.append("file",e),(await ue.post("/files/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data},_r=async(e=20,t=0)=>(await ue.get("/files",{params:{limit:e,offset:t}})).data,Mr=async e=>{await ue.delete(`/files/${e}`)},Nr=async(e,t=3600)=>(await ue.get(`/files/${e}/download-url`,{params:{expiresIn:t}})).data,Dr=async()=>(await ue.get("/files/stats/overview")).data,Ar="_uploadContainer_1feo5_1",Lr="_uploadArea_1feo5_5",Br="_fileInfo_1feo5_16",Ae={uploadContainer:Ar,uploadArea:Lr,fileInfo:Br},{Text:it}=fe,Wr=({onSuccess:e,maxSize:t=52428800,accept:n="*",multiple:r=!1})=>{const s=o.useRef(null),[a,l]=o.useState(!1),[u,c]=o.useState(0),[p,d]=o.useState(null),f=h=>{const b=h.target.files;if(!b)return;const C=b[0];if(C.size>t){G.error(`文件大小不能超过 ${(t/1024/1024).toFixed(2)}MB`);return}d(C)},g=async()=>{if(!p){G.warning("请先选择文件");return}l(!0),c(0);try{const h=setInterval(()=>{c(C=>C>=90?(clearInterval(h),C):C+Math.random()*30)},300),b=await Pr(p);clearInterval(h),c(100),G.success("文件上传成功"),d(null),s.current&&(s.current.value=""),setTimeout(()=>{c(0),l(!1)},500),e==null||e(b)}catch(h){G.error(`上传失败: ${h.message||"未知错误"}`),c(0),l(!1)}},S=()=>{d(null),c(0),s.current&&(s.current.value="")};return y.jsxs("div",{className:Ae.uploadContainer,children:[y.jsx("input",{ref:s,type:"file",onChange:f,accept:n,multiple:r,style:{display:"none"}}),y.jsxs("div",{className:Ae.uploadArea,children:[y.jsx(re,{type:"primary",icon:y.jsx(Tr,{}),onClick:()=>{var h;return(h=s.current)==null?void 0:h.click()},disabled:a,children:"选择文件"}),p&&y.jsxs("div",{className:Ae.fileInfo,children:[y.jsxs(it,{children:["已选择: ",p.name]}),y.jsxs(it,{type:"secondary",style:{marginLeft:"16px"},children:[(p.size/1024/1024).toFixed(2)," MB"]})]}),a&&y.jsx(Mn,{percent:Math.round(u)}),p&&!a&&y.jsxs(mt,{style:{marginTop:"16px"},children:[y.jsx(re,{type:"primary",loading:a,onClick:g,children:"上传"}),y.jsx(re,{onClick:S,children:"取消"})]})]})]})},Fr="_fileManager_jx1zq_1",zr="_card_jx1zq_4",at={fileManager:Fr,card:zr},ro=()=>{const[e,t]=o.useState([]),[n,r]=o.useState(null),[s,a]=o.useState(!1),[l,u]=o.useState({current:1,pageSize:20}),[c,p]=o.useState(0),d=async(i=1,m=20)=>{a(!0);try{const I=(i-1)*m,x=await _r(m,I);t(x.data),p(x.total),u({current:i,pageSize:m})}catch(I){G.error(`加载文件失败: ${I.message}`)}finally{a(!1)}},f=async()=>{try{const i=await Dr();r(i)}catch(i){G.error(`加载统计信息失败: ${i.message}`)}};o.useEffect(()=>{d(),f()},[]);const g=(i,m)=>{on.confirm({title:"删除文件",content:`确认删除文件 "${m}" 吗？`,okText:"删除",cancelText:"取消",okButtonProps:{danger:!0},onOk:async()=>{try{await Mr(i),G.success("文件删除成功"),d(l.current,l.pageSize),f()}catch(I){G.error(`删除失败: ${I.message}`)}}})},S=async(i,m)=>{try{const I=await Nr(i),x=document.createElement("a");x.href=I.url,x.download=m,x.click(),G.success("下载开始")}catch(I){G.error(`获取下载链接失败: ${I.message}`)}},h=i=>{window.open(i,"_blank")},b=i=>{if(i===0)return"0 B";const m=1024,I=["B","KB","MB","GB"],x=Math.floor(Math.log(i)/Math.log(m));return Math.round(i/Math.pow(m,x)*100)/100+" "+I[x]},C=[{title:"ID",dataIndex:"id",key:"id",width:60},{title:"文件名",dataIndex:"originalName",key:"originalName",render:i=>y.jsx(pe,{title:i,children:y.jsx("span",{children:i.length>30?i.substring(0,30)+"...":i})})},{title:"文件类型",dataIndex:"fileType",key:"fileType",width:100,render:i=>y.jsx(Jt,{color:"blue",children:i||"unknown"})},{title:"文件大小",dataIndex:"size",key:"size",width:120,render:i=>b(i)},{title:"上传时间",dataIndex:"createdAt",key:"createdAt",width:180,render:i=>new Date(i).toLocaleString()},{title:"操作",key:"action",width:200,render:(i,m)=>y.jsxs(mt,{size:"small",children:[y.jsx(re,{type:"text",size:"small",icon:y.jsx(en,{}),onClick:()=>h(m.url),title:"预览"}),y.jsx(re,{type:"text",size:"small",icon:y.jsx(Ir,{}),onClick:()=>S(m.id,m.originalName),title:"下载"}),y.jsx(re,{type:"text",size:"small",danger:!0,icon:y.jsx(Qt,{}),onClick:()=>g(m.id,m.originalName),title:"删除"})]})}];return y.jsx("div",{className:at.fileManager,children:y.jsx(ne,{title:"文件管理",className:at.card,children:y.jsx(Gt,{items:[{key:"files",label:"文件列表",children:y.jsxs(y.Fragment,{children:[y.jsx(ne,{title:"上传文件",style:{marginBottom:"24px"},children:y.jsx(Wr,{onSuccess:()=>{d(1),f()}})}),y.jsx(ne,{title:"所有文件",children:e.length===0?y.jsx(je,{description:"暂无文件"}):y.jsx(Ge,{columns:C,dataSource:e.map(i=>({...i,key:i.id})),loading:s,pagination:{...l,total:c,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"]},onChange:i=>{d(i.current||1,i.pageSize||20)}})})]})},{key:"stats",label:"统计信息",children:n?y.jsxs("div",{children:[y.jsxs(sn,{gutter:16,children:[y.jsx(Ie,{span:8,children:y.jsx(ne,{children:y.jsx(ke,{title:"总文件数",value:n.total,prefix:"📄"})})}),y.jsx(Ie,{span:8,children:y.jsx(ne,{children:y.jsx(ke,{title:"总存储大小",value:b(n.totalSize),prefix:"💾"})})}),y.jsx(Ie,{span:8,children:y.jsx(ne,{children:y.jsx(ke,{title:"文件类型数",value:n.byType.length,prefix:"🏷️"})})})]}),y.jsx(ne,{title:"按类型统计",style:{marginTop:"24px"},children:n.byType.length===0?y.jsx(je,{description:"暂无数据"}):y.jsx(Ge,{columns:[{title:"文件类型",dataIndex:"type",key:"type"},{title:"数量",dataIndex:"count",key:"count"}],dataSource:n.byType.map((i,m)=>({...i,key:m})),pagination:!1})})]}):y.jsx(je,{description:"暂无数据"})}],tabBarExtraContent:y.jsx(re,{icon:y.jsx(rn,{}),onClick:()=>{d(l.current,l.pageSize),f()},children:"刷新"})})})})};export{ro as default};
