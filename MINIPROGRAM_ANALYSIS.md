# ğŸ¯ Ruizhu å¾®ä¿¡å°ç¨‹åº - åŠŸèƒ½æ·±åº¦åˆ†ææŠ¥å‘Š

## ğŸ“‹ ç›®å½•
1. [é¡¹ç›®æ¦‚è§ˆ](#é¡¹ç›®æ¦‚è§ˆ)
2. [é¡µé¢åŠŸèƒ½æ€»ç»“](#é¡µé¢åŠŸèƒ½æ€»ç»“)
3. [è¯¦ç»†é¡µé¢åˆ†æ](#è¯¦ç»†é¡µé¢åˆ†æ)
4. [æ•°æ®æµä¸çŠ¶æ€ç®¡ç†](#æ•°æ®æµä¸çŠ¶æ€ç®¡ç†)
5. [å¯¼èˆªå…³ç³»](#å¯¼èˆªå…³ç³»)
6. [å½“å‰é™åˆ¶ä¸æ”¹è¿›](#å½“å‰é™åˆ¶ä¸æ”¹è¿›)

---

## ğŸ¨ é¡¹ç›®æ¦‚è§ˆ

### åŸºæœ¬ä¿¡æ¯

| å±æ€§ | è¯¦æƒ… |
|------|------|
| **åº”ç”¨åç§°** | Ruizhu å°ç¨‹åº |
| **æ¡†æ¶** | UniApp 3.0 + Vue 3 |
| **ç‰ˆæœ¬** | 1.0.0 |
| **WeChat AppID** | wxf2a1defe4093ab24 |
| **ç›®æ ‡å¹³å°** | å¾®ä¿¡å°ç¨‹åºã€H5ã€æ”¯ä»˜å®ã€ç™¾åº¦ |
| **ä»£ç è§„æ¨¡** | ~3,200 è¡Œä»£ç  |
| **é¡µé¢æ•°é‡** | 6 ä¸ª (5 ä¸ª TabBar + 1 ä¸ªä¸“ç”¨é¡µé¢) |

### åº”ç”¨ç‰¹æ€§

âœ… **å®Œæ•´ç”µå•†å¹³å°** - é¦–é¡µã€åˆ†ç±»ã€VIP å®šåˆ¶ã€è´­ç‰©è½¦ã€ä¸ªäººä¸­å¿ƒ
âœ… **è·¨å¹³å°æ”¯æŒ** - ä¸€å¥—ä»£ç è¿è¡Œåœ¨å¤šä¸ªå¹³å°
âœ… **Vue 3 Composition API** - ç°ä»£åŒ–ç»„ä»¶å¼€å‘
âœ… **å“åº”å¼è®¾è®¡** - rpx å•ä½è‡ªé€‚é…å„ç§å±å¹•
âœ… **é«˜ç«¯å¥¢ä¾ˆå“é£æ ¼** - ç²¾ç¾ UI å’Œäº¤äº’

---

## ğŸ“Š é¡µé¢åŠŸèƒ½æ€»ç»“

### å¿«é€Ÿå¯¹æ¯”è¡¨

| é¡µé¢ | åŠŸèƒ½å—æ•° | æ ¸å¿ƒåŠŸèƒ½ | ä»£ç è¡Œæ•° | å®Œæ•´åº¦ |
|------|---------|---------|---------|--------|
| **é¦–é¡µ** (index) | 5 | è½®æ’­ã€ä¼šå‘˜å¡ç‰‡ã€ç²¾é€‰æ¨è | 399 è¡Œ | 80% |
| **åˆ†ç±»** (category) | 4 | æœç´¢ã€ç­›é€‰ã€å¤šç»´åº¦æ’åº | 478 è¡Œ | 90% |
| **VIPå®šåˆ¶** (gifts) | 5 | æ€§åˆ«æ ‡ç­¾ã€è½®æ’­ã€ç½‘æ ¼å±•ç¤º | 504 è¡Œ | 75% |
| **è´­ç‰©è¢‹** (cart) | 6 | å•†å“ç®¡ç†ã€ä»·æ ¼è®¡ç®—ã€ç»“ç®— | 505 è¡Œ | 85% |
| **ä¸ªäººä¸­å¿ƒ** (profile) | 6 | ç”¨æˆ·ä¿¡æ¯ã€ç»Ÿè®¡ã€èœå•å¯¼èˆª | 416 è¡Œ | 60% |
| **è§†é¢‘æ’­æ”¾** (video-player) | 3 | è§†é¢‘æ’­æ”¾ã€å…ƒæ•°æ®å±•ç¤º | 152 è¡Œ | 70% |

---

## ğŸ” è¯¦ç»†é¡µé¢åˆ†æ

### 1ï¸âƒ£ é¦–é¡µ (pages/index/index.vue)

**ç”¨é€”**: å“ç‰Œå½¢è±¡å±•ç¤º + ç²¾é€‰äº§å“æ¨è

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | å®ç°æ–¹å¼ | çŠ¶æ€ |
|------|--------|------|
| è‡ªå®šä¹‰å¯¼èˆªæ  | position: fixed + å®‰å…¨åŒºåŸŸé€‚é… | âœ… |
| è½®æ’­å›¾å±•ç¤º | swiper ç»„ä»¶ (è‡ªåŠ¨å¾ªç¯) | âœ… |
| å“ç‰Œå®£ä¼  | 3 å¼  banner + 1 å¼ è§†é¢‘å°é¢ | âœ… |
| ä¼šå‘˜å¡ç‰‡ | 2 å¼ å¯ç‚¹å‡»å¡ç‰‡ | âœ… |
| ç²¾é€‰æ¨è | 4 ä»¶äº§å“ 2 åˆ—ç½‘æ ¼ | âœ… |
| è§†é¢‘æ’­æ”¾è·³è½¬ | navigateTo åˆ°è§†é¢‘é¡µ | âœ… |
| äº§å“ç‚¹å‡» | ä»… Toastï¼Œæœªå®ç°è¯¦æƒ…é¡µ | âŒ |

#### å…³é”®ä»£ç 

```vue
<script>
export default {
  data() {
    return {
      bannerList: [        // 3ä¸ªè½®æ’­é¡¹
        { title: '...', subtitle: '...', image: '...' }
      ],
      memberCards: [...],  // 2ä¸ªä¼šå‘˜å¡ç‰‡
      products: [...]      // 4ä¸ªç²¾é€‰äº§å“
    }
  },
  methods: {
    onVideoImageTap() {
      uni.navigateTo({
        url: '/pages/video-player/video-player'
      })
    },
    onProductTap(product) {
      uni.showToast({ title: product.name })
      // æœªå®ç°: è·³è½¬è¯¦æƒ…é¡µ
    }
  }
}
</script>
```

#### æ•°æ®ç»“æ„

```javascript
äº§å“æ•°æ®æ¨¡å‹:
{
  name: 'ç»å…¸æ‰‹è¢‹',
  price: '12800',
  image: 'https://...'
}
```

#### æ”¹è¿›å»ºè®®

- [ ] å®ç°äº§å“è¯¦æƒ…é¡µå¯¼èˆª
- [ ] åŠ¨æ€åŠ è½½ banner æ•°æ®
- [ ] æ·»åŠ ä¸‹æ‹‰åˆ·æ–°
- [ ] è½®æ’­å›¾é¢„åŠ è½½

---

### 2ï¸âƒ£ åˆ†ç±»é¡µ (pages/category/category.vue)

**ç”¨é€”**: å•†å“åˆ†ç±»æµè§ˆã€æœç´¢ã€ç­›é€‰ã€æ’åº

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | å®Œæ•´åº¦ |
|------|--------|
| å®æ—¶æœç´¢ | âœ… (æ— é˜²æŠ–) |
| åˆ†ç±»åˆ‡æ¢ | âœ… (5ä¸ªåˆ†ç±») |
| å¤šç»´åº¦æ’åº | âœ… (5ç§æ’åºæ–¹å¼) |
| å•†å“è¿‡æ»¤ | âœ… (computed) |
| å•†å“ç½‘æ ¼ | âœ… (2åˆ—å±•ç¤º) |
| æ–°å“å¾½ç«  | âœ… |
| äº§å“ç‚¹å‡»å¯¼èˆª | âŒ (ä»…æ³¨é‡Šä¸­æœ‰å®ç°) |
| åˆ†é¡µåŠ è½½ | âŒ |

#### æœç´¢ä¸æ’åºé€»è¾‘

```javascript
computed: {
  filteredProducts() {
    // 1. æŒ‰åˆ†ç±»è¿‡æ»¤
    // 2. æŒ‰å…³é”®è¯æœç´¢
    // 3. æŒ‰æ’åºæ–¹å¼æ’åº (æ¨è/æ–°å“/çƒ­é”€/ä»·æ ¼â†“/ä»·æ ¼â†‘)
    // 4. è¿”å›è¿‡æ»¤åˆ—è¡¨
  }
}
```

#### åˆ†ç±»å’Œæ’åºé€‰é¡¹

```javascript
åˆ†ç±»: å…¨éƒ¨ | æ‰‹è¢‹ | èƒŒåŒ… | é’±åŒ… | é…ä»¶
æ’åº: æ¨è | æ–°å“ | çƒ­é”€ | ä»·æ ¼â†“ | ä»·æ ¼â†‘
```

#### æ”¹è¿›å»ºè®®

- [ ] æ·»åŠ æœç´¢é˜²æŠ–å’Œå†å²
- [ ] å®ç°äº§å“è¯¦æƒ…é¡µ
- [ ] ä»·æ ¼èŒƒå›´ã€å±æ€§ç­›é€‰
- [ ] æ— é™æ»šåŠ¨åˆ†é¡µ
- [ ] æ·»åŠ  "åŠ å…¥è´­ç‰©è½¦" åŠŸèƒ½

---

### 3ï¸âƒ£ VIP ç§äººå®šåˆ¶ (pages/gifts/gifts.vue)

**ç”¨é€”**: VIP ä¸“å±äº§å“å±•ç¤º + æ€§åˆ«åˆ†ç±»

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | ç‰¹ç‚¹ |
|------|------|
| æ€§åˆ«åˆ†ç±» | å¥³å£«ç”„é€‰ / ç”·å£«ç”„é€‰ Tab |
| äº§å“è½®æ’­ | swiper (3 ä¸ªè½®æ’­é¡¹) |
| å¤§å›¾å±•ç¤º | å·¦ä¾§ 50% å®½åº¦ç‰¹è‰²äº§å“ |
| ç›¸å…³å¡ç‰‡ | å³ä¾§ 2 ä¸ªå°å¡ç‰‡ |
| å®šåˆ¶åˆ†ç±» | 2x2 ç½‘æ ¼ (åŠ¨æ€ç”Ÿæˆ) |
| åˆ†ç±»è¦†ç›–å±‚ | åº•éƒ¨æ¸å˜ + æ–‡å­— |

#### è½®æ’­é¡¹ç»“æ„

```javascript
productSlides: [
  {
    featured: {
      name: 'é‹å­',
      price: '1799',
      image: '...'
    },
    products: [
      { name: 'ç å®', price: '5800', image: '...' },
      { name: 'ç å®', price: '7500', image: '...' }
    ]
  }
  // ... 3ä¸ªè½®æ’­é¡¹
]
```

#### å½“å‰é—®é¢˜

âš ï¸ **æ ‡ç­¾åŠŸèƒ½ä¸å®Œæ•´**: switchTab ä»… console.logï¼Œå¥³å£«/ç”·å£«æ— åŒºåˆ†æ•°æ®
âš ï¸ **åˆ†ç±»éšæœºç”Ÿæˆ**: æ¯æ¬¡æŒ‚è½½éšæœºé€‰æ‹©ç å®å›¾ç‰‡
âš ï¸ **æ— è´­ç‰©åŠŸèƒ½**: æ‰€æœ‰ç‚¹å‡»å‡ä¸º Toast

#### æ”¹è¿›å»ºè®®

- [ ] å®Œå–„æ€§åˆ«æ ‡ç­¾åˆ‡æ¢é€»è¾‘
- [ ] å®ç°å¥³å£«/ç”·å£«ä¸åŒæ•°æ®åŠ è½½
- [ ] æ·»åŠ  "æ·»åŠ åˆ°è´­ç‰©è½¦" æŒ‰é’®
- [ ] åç«¯ç®¡ç†å®šåˆ¶åˆ†ç±»
- [ ] äº§å“è¯¦æƒ…é¡µå¯¼èˆª

---

### 4ï¸âƒ£ è´­ç‰©è¢‹ (pages/cart/cart.vue)

**ç”¨é€”**: è´­ç‰©è½¦ç®¡ç†ã€ä»·æ ¼è®¡ç®—ã€ç»“ç®—

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | å®ç° |
|------|------|
| å•†å“åˆ—è¡¨ | âœ… v-for éå† |
| æ•°é‡å¢å‡ | âœ… +/- æŒ‰é’® |
| å•†å“åˆ é™¤ | âœ… ç¡®è®¤å¼¹çª— |
| ä»·æ ¼è®¡ç®— | âœ… computed |
| è¿è´¹è®¡ç®— | âœ… (å›ºå®šå€¼) |
| ä¼˜æƒ è®¡ç®— | âœ… (å›ºå®šä¸º0) |
| ç»“ç®—æŒ‰é’® | âœ… (æœªå®ç°æ”¯ä»˜) |
| ç©ºè´­ç‰©è½¦çŠ¶æ€ | âœ… |
| è·¨é¡µé¢åŒæ­¥ | âŒ (æ— å…¨å±€çŠ¶æ€) |

#### ä»·æ ¼è®¡ç®—é€»è¾‘

```javascript
computed: {
  productTotal() {
    return sum(item.price * item.quantity)
  },

  totalPrice() {
    return productTotal + expressPrice - discount
  }
}
```

#### è´­ç‰©è½¦å•†å“ç»“æ„

```javascript
{
  id: 1,
  name: 'ç»å…¸çš®è´¨æ‰‹è¢‹',
  category: 'æ‰‹è¢‹',
  price: '12800',
  image: 'https://...',
  quantity: 1
}
```

#### ä¸»è¦é—®é¢˜

âŒ **æ— æ•°æ®æŒä¹…åŒ–**: åˆ·æ–°åæ•°æ®ä¸¢å¤±
âŒ **å­¤ç«‹çŠ¶æ€**: å…¶ä»–é¡µé¢æ— æ³•æ·»åŠ åˆ°è´­ç‰©è½¦
âŒ **ä»·æ ¼æ ¼å¼æ··ä¹±**: å­—ç¬¦ä¸²å’Œæ•°å­—æ··ç”¨
âŒ **å¼ºåˆ¶æ›´æ–°**: ä½¿ç”¨ $forceUpdate()

#### æ”¹è¿›å»ºè®®

- [ ] å®ç°å…¨å±€è´­ç‰©è½¦çŠ¶æ€ (Pinia)
- [ ] æœ¬åœ°å­˜å‚¨æŒä¹…åŒ–
- [ ] å®ç°çœŸå®æ”¯ä»˜æµç¨‹
- [ ] åº“å­˜æ£€æŸ¥
- [ ] ä¼˜æƒ åˆ¸åŠŸèƒ½

---

### 5ï¸âƒ£ ä¸ªäººä¸­å¿ƒ (pages/profile/profile.vue)

**ç”¨é€”**: ç”¨æˆ·ä¿¡æ¯ã€ç»Ÿè®¡æ•°æ®ã€èœå•å¯¼èˆª

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | å®Œæ•´åº¦ |
|------|--------|
| ç”¨æˆ·å¡ç‰‡ | âœ… (å¤´åƒã€åç§°ã€IDã€ç­‰çº§) |
| ç»Ÿè®¡æ•°æ® | âœ… (è®¢å•ã€ç§¯åˆ†ã€ä¼˜æƒ åˆ¸) |
| èœå•åˆ†ç»„ | âœ… (3ä¸ªèœå•ç»„) |
| èœå•å¯¼èˆª | ğŸ”„ (ä»… Toastï¼Œæœªå®ç°) |
| ç™»å‡ºåŠŸèƒ½ | ğŸ”„ (æ— å®é™…æ¸…é™¤æ“ä½œ) |
| ç”¨æˆ·è®¤è¯ | âŒ (æ— ç™»å½•é€»è¾‘) |

#### èœå•ç»“æ„

```javascript
æˆ‘çš„è´­ç‰©:
  - æˆ‘çš„è®¢å• (12)
  - æ”¶è—å¤¹
  - æˆ‘çš„è¯„ä»·
  - ç§¯åˆ†å•†åŸ

è´¦æˆ·:
  - ç¼–è¾‘èµ„æ–™
  - æ”¶è´§åœ°å€
  - æ”¯ä»˜æ–¹å¼
  - æ¶ˆæ¯é€šçŸ¥

å…¶ä»–:
  - å…³äºæˆ‘ä»¬
  - å¸®åŠ©ä¸åé¦ˆ
  - æœåŠ¡æ¡æ¬¾
```

#### ç”¨æˆ·æ•°æ®ç»“æ„

```javascript
userInfo: {
  name: 'ææ˜',
  id: 'RZ20241017001',
  avatar: 'https://...',
  memberLevel: 'VIP é‡‘ç‰Œä¼šå‘˜'
},

userStats: {
  orders: 12,
  points: 2680,
  coupons: 5
}
```

#### æ”¹è¿›å»ºè®®

- [ ] å®ç°çœŸå®ç”¨æˆ·è®¤è¯
- [ ] èœå•å¯¼èˆªåˆ°å¯¹åº”é¡µé¢
- [ ] åŠ¨æ€åŠ è½½ç”¨æˆ·æ•°æ®
- [ ] å¤´åƒä¸Šä¼ åŠŸèƒ½
- [ ] çœŸå®ç™»å‡ºé€»è¾‘

---

### 6ï¸âƒ£ è§†é¢‘æ’­æ”¾é¡µ (pages/video-player/video-player.vue)

**ç”¨é€”**: ä¸“ç”¨è§†é¢‘æ’­æ”¾ + å…ƒæ•°æ®å±•ç¤º

#### æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | å®ç° |
|------|------|
| è‡ªå®šä¹‰å¯¼èˆª | âœ… |
| è§†é¢‘æ’­æ”¾ | âœ… |
| æ’­æ”¾æ§åˆ¶ | âœ… (è‡ªå¸¦æ§åˆ¶æ¡) |
| å…¨å±åŠŸèƒ½ | âœ… |
| é”™è¯¯å¤„ç† | âœ… |
| å…ƒæ•°æ®æ˜¾ç¤º | âœ… (æ—¶é•¿ã€åˆ†è¾¨ç‡ã€æ ¼å¼) |
| è§†é¢‘åˆ—è¡¨ | âŒ |

#### å…³é”®å®ç°

```javascript
// äº‹ä»¶å¤„ç†
onPlay(): æ’­æ”¾æ—¶
onPause(): æš‚åœæ—¶
onError(e): é”™è¯¯æ—¶ -> Toast

// å¯¼èˆª
goBack(): uni.navigateBack()
```

#### æ”¹è¿›å»ºè®®

- [ ] æ”¯æŒé€šè¿‡å‚æ•°ä¼ å…¥è§†é¢‘ URL
- [ ] åŠ¨æ€åŠ è½½è§†é¢‘ä¿¡æ¯
- [ ] è§†é¢‘åˆ—è¡¨æ’­æ”¾
- [ ] åˆ†äº«å’Œä¸‹è½½åŠŸèƒ½
- [ ] å¼¹å¹•/è¯„è®ºç³»ç»Ÿ

---

### ğŸ¬ VideoPlayer ç»„ä»¶ (components/VideoPlayer.vue)

**ç”¨é€”**: é«˜åº¦å¯å¤ç”¨çš„è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶

#### Props é…ç½®

```vue
<VideoPlayer
  src="..."           // è§†é¢‘æº (å¿…éœ€)
  poster="..."        // å°é¢
  autoplay            // è‡ªåŠ¨æ’­æ”¾
  muted               // é™éŸ³
  controls            // æ˜¾ç¤ºæ§åˆ¶æ¡
  playBtnPosition     // æ’­æ”¾æŒ‰é’®ä½ç½®
  showStats           // æ˜¾ç¤ºç»Ÿè®¡
/>
```

#### äº‹ä»¶å›è°ƒ

```javascript
@play       // å¼€å§‹æ’­æ”¾
@pause      // æš‚åœ
@ended      // æ’­æ”¾ç»“æŸ
@error      // åŠ è½½é”™è¯¯
@timeupdate // æ—¶é—´æ›´æ–°
```

#### ç»„ä»¶ç‰¹æ€§

âœ… åŠ è½½çŠ¶æ€æ˜¾ç¤º (loading spinner)
âœ… é”™è¯¯çŠ¶æ€å¤„ç† (é”™è¯¯æç¤º + é‡è¯•æŒ‰é’®)
âœ… è‡ªåŠ¨é‡è¯• (æœ€å¤š 3 æ¬¡)
âœ… äº‹ä»¶å®Œæ•´ (play/pause/ended/error/timeupdate)
âœ… å“åº”å¼è®¾è®¡

#### æ”¹è¿›å»ºè®®

- [ ] é…ç½®åŒ–é‡è¯•æ¬¡æ•°
- [ ] æ”¯æŒæ’­æ”¾åˆ—è¡¨
- [ ] å¤šæ¸…æ™°åº¦åˆ‡æ¢
- [ ] å­—å¹•æ”¯æŒ
- [ ] å¹¿å‘Šæ¥å…¥

---

## ğŸ“ æ•°æ®æµä¸çŠ¶æ€ç®¡ç†

### å½“å‰æ¶æ„

```
App.vue (å…¨å±€ç”Ÿå‘½å‘¨æœŸ)
  â”‚
  â”œâ”€ pages.json (è·¯ç”±é…ç½®)
  â”‚
  â””â”€ 5 ä¸ª TabBar é¡µé¢ + 1 ä¸ªé TabBar é¡µé¢
     â”‚
     â”œâ”€ data() æœ¬åœ°çŠ¶æ€
     â”œâ”€ computed() è®¡ç®—å±æ€§
     â””â”€ methods() äº‹ä»¶å¤„ç†
```

### ä¸»è¦é—®é¢˜

âŒ **æ— å…¨å±€çŠ¶æ€ç®¡ç†**: å„é¡µé¢çŠ¶æ€å­¤ç«‹
âŒ **æ— æ•°æ®æŒä¹…åŒ–**: åˆ·æ–°åæ•°æ®ä¸¢å¤±
âŒ **æ— è·¨é¡µé¢é€šä¿¡**: è´­ç‰©è½¦æ•°æ®æ— æ³•åŒæ­¥
âŒ **é‡å¤æ•°æ®**: å•†å“æ•°æ®åœ¨å¤šä¸ªé¡µé¢ç¡¬ç¼–ç 

### æ”¹è¿›æ–¹æ¡ˆ

#### æ¨èæ–¹æ¡ˆ: Pinia (Vue 3 å®˜æ–¹æ¨è)

```javascript
store/
â”œâ”€ modules/
â”‚  â”œâ”€ cart.ts       // è´­ç‰©è½¦
â”‚  â”‚  â”œâ”€ state: { items, coupon }
â”‚  â”‚  â”œâ”€ getters: { total, itemCount }
â”‚  â”‚  â””â”€ actions: { addItem, removeItem }
â”‚  â”‚
â”‚  â”œâ”€ user.ts       // ç”¨æˆ·ä¿¡æ¯
â”‚  â”‚  â”œâ”€ state: { userInfo, token }
â”‚  â”‚  â””â”€ actions: { login, logout }
â”‚  â”‚
â”‚  â”œâ”€ product.ts    // å•†å“æ•°æ®
â”‚  â”‚  â””â”€ state: { products, categories }
â”‚  â”‚
â”‚  â””â”€ ui.ts         // UI çŠ¶æ€
â”‚     â””â”€ state: { theme, language }
```

#### ä½¿ç”¨ç¤ºä¾‹

```javascript
// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { useCartStore } from '@/store/modules/cart'

export default {
  setup() {
    const cart = useCartStore()

    const addToCart = (product) => {
      cart.addItem(product)  // è‡ªåŠ¨æ›´æ–°æ‰€æœ‰é¡µé¢
    }

    return {
      items: computed(() => cart.items),
      total: computed(() => cart.total),
      addToCart
    }
  }
}
```

#### æ•°æ®æŒä¹…åŒ–

```javascript
// ç»“åˆ UniApp Storage
const saveCart = (items) => {
  uni.setStorageSync('cart_items', JSON.stringify(items))
}

const loadCart = () => {
  return JSON.parse(uni.getStorageSync('cart_items') || '[]')
}

// åœ¨ Pinia ä¸­ä½¿ç”¨
export const useCartStore = defineStore('cart', {
  state: () => ({
    items: loadCart()
  }),
  actions: {
    addItem(product) {
      this.items.push({ ...product, quantity: 1 })
      this.save()
    },
    save() {
      saveCart(this.items)
    }
  }
})
```

---

## ğŸ—ºï¸ å¯¼èˆªå…³ç³»

### é¡µé¢å¯¼èˆªå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  App.vue                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                     â”‚
      TabBar å¯¼èˆª            é¡µé¢å †æ ˆ
      (switchTab)         (navigateTo/Back)

      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚   åº•éƒ¨ 5 ä¸ª TabBar æ ‡ç­¾   â”‚
      â”œâ”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
      â”‚é¦–â”‚åˆ†â”‚Vâ”‚è´­â”‚ä¸ªäººä¸­å¿ƒ      â”‚
      â”‚é¡µâ”‚ç±»â”‚Iâ”‚ç‰©â”‚              â”‚
      â”‚  â”‚  â”‚Pâ”‚è¢‹â”‚              â”‚
      â””â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚      â”‚ â”‚      â”‚
         â””â”€â”€â”¬â”€â”€â”€â”˜ â”‚      â””â”€â”€â”
            â”‚     â”‚         â”‚
         switchTab          â”‚
            â”‚     â”‚         â”‚
            â””â”€â”€â”€â”€â”€â”¤â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  è§†é¢‘æ’­æ”¾é¡µ       â”‚
         â”‚  (non-TabBar)     â”‚
         â”‚  navigateTo/Back  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å¯¼èˆªè§„åˆ™

#### TabBar é¡µé¢é—´å¯¼èˆª

```javascript
// ä½¿ç”¨ switchTab (è¿”å›åˆ°é¡¶éƒ¨)
uni.switchTab({ url: '/pages/index/index' })
uni.switchTab({ url: '/pages/category/category' })
uni.switchTab({ url: '/pages/gifts/gifts' })
uni.switchTab({ url: '/pages/cart/cart' })
uni.switchTab({ url: '/pages/profile/profile' })
```

#### é TabBar é¡µé¢å¯¼èˆª

```javascript
// ä½¿ç”¨ navigateTo (ä¿ç•™è¿”å›)
uni.navigateTo({
  url: '/pages/video-player/video-player'
})

// è¿”å›ä¸Šä¸€é¡µ
uni.navigateBack()
```

#### å¾…å®ç°çš„å¯¼èˆª

```javascript
// äº§å“è¯¦æƒ…é¡µ (å½“å‰æœªåˆ›å»º)
uni.navigateTo({
  url: `/pages/product-detail/product-detail?id=${product.id}`
})

// è®¢å•é¡µã€åœ°å€ç®¡ç†ç­‰ (å½“å‰æ³¨é‡Šä¸­)
uni.navigateTo({
  url: '/pages/orders/orders'
})
```

---

## ğŸš€ å½“å‰é™åˆ¶ä¸æ”¹è¿›

### ä¼˜å…ˆçº§çŸ©é˜µ

| ä¼˜å…ˆçº§ | é™åˆ¶ | å½±å“ | å·¥ä½œé‡ |
|--------|------|------|--------|
| **P0** | æ— å…¨å±€è´­ç‰©è½¦ | æ— æ³•è·¨é¡µé¢è´­ç‰© | ä¸­ |
| **P0** | æ— åç«¯ API | æ‰€æœ‰æ•°æ®ç¡¬ç¼–ç  | å¤§ |
| **P0** | æ— ç”¨æˆ·è®¤è¯ | æ— ç™»å½•ç³»ç»Ÿ | ä¸­ |
| **P1** | æ— äº§å“è¯¦æƒ…é¡µ | æ— æ³•æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ | ä¸­ |
| **P1** | æ— ç»“ç®—æµç¨‹ | æ— æ³•å®Œæˆè´­ä¹° | å¤§ |
| **P1** | æ— æ•°æ®æŒä¹…åŒ– | åˆ·æ–°ä¸¢å¤±æ•°æ® | å° |
| **P2** | æœç´¢æ— é˜²æŠ– | æ€§èƒ½å·® | å° |
| **P2** | æ— åˆ†é¡µåŠ è½½ | æ€§èƒ½å·® | ä¸­ |
| **P3** | æ—  TypeScript | ç±»å‹ä¸å®‰å…¨ | å¤§ |

### P0 - æ ¸å¿ƒåŠŸèƒ½ç¼ºå¤±

#### 1. å…¨å±€è´­ç‰©è½¦ âš ï¸

**é—®é¢˜**: è´­ç‰©è¢‹é¡µé¢å’Œå…¶ä»–é¡µé¢çš„è´­ç‰©è½¦æ•°æ®éš”ç¦»

**æ”¹è¿›æ–¹æ¡ˆ**:
```javascript
// ä½¿ç”¨ Pinia å…¨å±€è´­ç‰©è½¦
import { useCartStore } from '@/store/cart'

export default {
  methods: {
    addToCart(product) {
      const cart = useCartStore()
      cart.addItem(product)  // è‡ªåŠ¨åŒæ­¥æ‰€æœ‰é¡µé¢
    }
  }
}
```

**é¢„æœŸæ•ˆæœ**: ä»»ä½•é¡µé¢çš„ "æ·»åŠ åˆ°è´­ç‰©è½¦" éƒ½èƒ½åŒæ­¥æ›´æ–°è´­ç‰©è¢‹æ•°æ®

#### 2. åç«¯ API é›†æˆ âš ï¸

**é—®é¢˜**: æ‰€æœ‰æ•°æ®ç¡¬ç¼–ç ï¼Œæ— æ³•åŠ¨æ€æ›´æ–°

**æ”¹è¿›æ–¹æ¡ˆ**:
```javascript
// åˆ›å»º API æœåŠ¡å±‚
services/
â”œâ”€ product.ts  (å•†å“æœåŠ¡)
â”œâ”€ cart.ts     (è´­ç‰©è½¦æœåŠ¡)
â”œâ”€ user.ts     (ç”¨æˆ·æœåŠ¡)
â””â”€ order.ts    (è®¢å•æœåŠ¡)

// é¡µé¢ä¸­è°ƒç”¨
async onLoad() {
  const products = await productService.getProducts()
  this.products = products
}
```

**é¢„æœŸæ•ˆæœ**: å®æ—¶åŠ è½½æœ€æ–°å•†å“ã€ä»·æ ¼ã€åº“å­˜ç­‰æ•°æ®

#### 3. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ âš ï¸

**é—®é¢˜**: æ— ç™»å½•æœºåˆ¶ï¼Œä¸ªäººä¸­å¿ƒæ•°æ®é™æ€

**æ”¹è¿›æ–¹æ¡ˆ**:
```javascript
// åˆ›å»ºç™»å½•é¡µé¢
pages/login/login.vue

// è®¤è¯çŠ¶æ€ç®¡ç†
store/user.ts
â”œâ”€ state: { userInfo, token, isLoggedIn }
â””â”€ actions: { login, logout, getUserInfo }

// è·¯ç”±å®ˆå«
if (!userStore.isLoggedIn) {
  uni.redirectTo({ url: '/pages/login/login' })
}
```

**é¢„æœŸæ•ˆæœ**: ç”¨æˆ·å¯ä»¥ç™»å½•ã€ä¸ªäººä¿¡æ¯çœŸå®ï¼Œå®ç°å®Œæ•´ç”µå•†æµç¨‹

### P1 - å…³é”®åŠŸèƒ½ç¼ºå¤±

#### 4. äº§å“è¯¦æƒ…é¡µ âš ï¸

**é—®é¢˜**: ç‚¹å‡»å•†å“ä»… Toastï¼Œæ— è¯¦æƒ…é¡µ

**æ”¹è¿›æ–¹æ¡ˆ**:
```javascript
// æ–°å»ºé¡µé¢
pages/product-detail/product-detail.vue

// å¯¼èˆªè·³è½¬
onProductTap(product) {
  uni.navigateTo({
    url: `/pages/product-detail/product-detail?id=${product.id}`
  })
}

// è¯¦æƒ…é¡µå†…å®¹
- å¤§å›¾è½®æ’­
- è¯¦ç»†æè¿°
- è§„æ ¼é€‰æ‹©
- ä»·æ ¼
- è¯„ä»·
- æ·»åŠ åˆ°è´­ç‰©è½¦
```

**é¢„æœŸæ•ˆæœ**: ç”¨æˆ·èƒ½çœ‹åˆ°å®Œæ•´å•†å“ä¿¡æ¯åå†è´­ä¹°

#### 5. ç»“ç®—æµç¨‹ âš ï¸

**é—®é¢˜**: ç»“ç®—æŒ‰é’®æœªå®ç°

**æ”¹è¿›æ–¹æ¡ˆ**:
```javascript
// æ–°å»ºç»“ç®—é¡µé¢
pages/checkout/checkout.vue

// æµç¨‹
1. é€‰æ‹©æ”¶è´§åœ°å€
2. ç¡®è®¤è®¢å•ä¿¡æ¯
3. é€‰æ‹©æ”¯ä»˜æ–¹å¼
4. å®Œæˆæ”¯ä»˜
5. è®¢å•ç¡®è®¤

// æ”¯ä»˜é›†æˆ
- å¾®ä¿¡æ”¯ä»˜ (å°ç¨‹åºåŸç”Ÿ)
- æ”¯ä»˜å® (è·¨å¹³å°)
```

**é¢„æœŸæ•ˆæœ**: ç”¨æˆ·èƒ½å®Œæˆä»æµè§ˆ â†’ è´­ä¹° â†’ æ”¯ä»˜ â†’ ä¸‹å•çš„å®Œæ•´æµç¨‹

### P2 - ä½“éªŒä¼˜åŒ–

#### 6. æ•°æ®æŒä¹…åŒ– âœ… å®¹æ˜“

```javascript
// è´­ç‰©è½¦æŒä¹…åŒ–
uni.setStorageSync('cart_items', JSON.stringify(items))

// æœç´¢å†å²
uni.setStorageSync('search_history', keywords)

// ç”¨æˆ·åå¥½
uni.setStorageSync('user_preferences', preferences)
```

#### 7. æœç´¢ä¼˜åŒ– âœ… å®¹æ˜“

```javascript
// æ·»åŠ é˜²æŠ–
onSearchInput: debounce(function(e) {
  this.searchKeyword = e.detail.value
}, 300),

// æœç´¢å†å²
onSearch() {
  this.saveSearchHistory(this.searchKeyword)
}
```

#### 8. åˆ†é¡µåŠ è½½ ğŸ”„ ä¸­ç­‰

```javascript
// æ— é™æ»šåŠ¨
onReachBottom() {
  if (!this.loading && this.hasMore) {
    this.page++
    this.loadMore()
  }
}
```

---

## ğŸ“š å®Œæ•´åŠŸèƒ½å¯¹æ ‡è¡¨

| åŠŸèƒ½ | é¦–é¡µ | åˆ†ç±» | VIP | è´­ç‰©è¢‹ | ä¸ªäººä¸­å¿ƒ | è§†é¢‘ |
|------|------|------|-----|--------|---------|------|
| æ•°æ®åŠ è½½ | ç¡¬ç¼–ç  | ç¡¬ç¼–ç  | ç¡¬ç¼–ç  | ç¡¬ç¼–ç  | ç¡¬ç¼–ç  | ç¡¬ç¼–ç  |
| åŠŸèƒ½å®Œæ•´ | 80% | 90% | 75% | 85% | 60% | 70% |
| API é›†æˆ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| å…¨å±€çŠ¶æ€ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| å¯¼èˆªå®ç° | éƒ¨åˆ† | æ³¨é‡Š | å¦ | å¦ | å¦ | æ˜¯ |
| ç”¨æˆ·è®¤è¯ | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |
| æ•°æ®æŒä¹…åŒ– | âŒ | âŒ | âŒ | âŒ | âŒ | âŒ |

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’

### ç¬¬ 1 é˜¶æ®µï¼šæ­å»ºåŸºç¡€ (1-2 å‘¨)

- [ ] æ­å»º Pinia å…¨å±€çŠ¶æ€ç®¡ç†
- [ ] åˆ›å»º API æœåŠ¡å±‚
- [ ] å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ
- [ ] é›†æˆæœ¬åœ°å­˜å‚¨

### ç¬¬ 2 é˜¶æ®µï¼šå®Œå–„æ ¸å¿ƒåŠŸèƒ½ (2-3 å‘¨)

- [ ] åˆ›å»ºäº§å“è¯¦æƒ…é¡µ
- [ ] å®ç°è·¨é¡µé¢è´­ç‰©è½¦
- [ ] å®Œæˆç»“ç®—æµç¨‹
- [ ] æ¥å…¥æ”¯ä»˜åŠŸèƒ½

### ç¬¬ 3 é˜¶æ®µï¼šä¼˜åŒ–ä½“éªŒ (1-2 å‘¨)

- [ ] æœç´¢é˜²æŠ–å’Œå†å²
- [ ] åˆ†é¡µåŠ è½½ä¼˜åŒ–
- [ ] å›¾ç‰‡æ‡’åŠ è½½
- [ ] æ€§èƒ½ä¼˜åŒ–

### ç¬¬ 4 é˜¶æ®µï¼šå¢å¼ºåŠŸèƒ½ (å¯é€‰)

- [ ] æ”¶è—åŠŸèƒ½
- [ ] ç”¨æˆ·è¯„ä»·
- [ ] ä¼˜æƒ åˆ¸ç³»ç»Ÿ
- [ ] æ¨èç®—æ³•

---

## ğŸ—ï¸ æ¨èçš„ä»£ç ç»“æ„

```
miniprogram/src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index/
â”‚   â”œâ”€â”€ category/
â”‚   â”œâ”€â”€ gifts/
â”‚   â”œâ”€â”€ cart/
â”‚   â”œâ”€â”€ profile/
â”‚   â”œâ”€â”€ video-player/
â”‚   â”œâ”€â”€ login/           âœ… æ–°å¢
â”‚   â”œâ”€â”€ product-detail/  âœ… æ–°å¢
â”‚   â””â”€â”€ checkout/        âœ… æ–°å¢
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ VideoPlayer.vue  (å·²æœ‰)
â”‚   â”œâ”€â”€ ProductCard.vue  âœ… æ–°å¢
â”‚   â”œâ”€â”€ CartItem.vue     âœ… æ–°å¢
â”‚   â”œâ”€â”€ UserCard.vue     âœ… æ–°å¢
â”‚   â””â”€â”€ FilterTabs.vue   âœ… æ–°å¢
â”‚
â”œâ”€â”€ store/               âœ… æ–°å¢
â”‚   â”œâ”€â”€ index.ts
â”‚   â””â”€â”€ modules/
â”‚       â”œâ”€â”€ cart.ts
â”‚       â”œâ”€â”€ user.ts
â”‚       â”œâ”€â”€ product.ts
â”‚       â””â”€â”€ ui.ts
â”‚
â”œâ”€â”€ services/            âœ… æ–°å¢
â”‚   â”œâ”€â”€ request.ts
â”‚   â”œâ”€â”€ product.ts
â”‚   â”œâ”€â”€ cart.ts
â”‚   â”œâ”€â”€ user.ts
â”‚   â””â”€â”€ order.ts
â”‚
â”œâ”€â”€ utils/               âœ… æ–°å¢
â”‚   â”œâ”€â”€ format.ts
â”‚   â”œâ”€â”€ validator.ts
â”‚   â”œâ”€â”€ debounce.ts
â”‚   â””â”€â”€ storage.ts
â”‚
â”œâ”€â”€ styles/              âœ… æ”¹è¿›
â”‚   â”œâ”€â”€ variables.scss
â”‚   â”œâ”€â”€ common.scss
â”‚   â””â”€â”€ mixins.scss
â”‚
â””â”€â”€ types/               âœ… æ–°å¢ (TypeScript)
    â”œâ”€â”€ product.ts
    â”œâ”€â”€ user.ts
    â”œâ”€â”€ order.ts
    â””â”€â”€ cart.ts
```

---

## ğŸ“ˆ KPI æŒ‡æ ‡å»ºè®®

### å¼€å‘å®Œæˆåº¦

| æŒ‡æ ‡ | å½“å‰ | ç›®æ ‡ | ä¼˜å…ˆçº§ |
|------|------|------|--------|
| åŠŸèƒ½å®Œæ•´åº¦ | 75% | 100% | P0 |
| API é›†æˆ | 0% | 100% | P0 |
| ç”¨æˆ·è®¤è¯ | 0% | 100% | P0 |
| æ•°æ®æŒä¹…åŒ– | 0% | 100% | P1 |
| æµ‹è¯•è¦†ç›–ç‡ | 0% | 80% | P2 |

### æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| é¦–å±åŠ è½½æ—¶é—´ | < 2s |
| æœç´¢å“åº”æ—¶é—´ | < 300ms (é˜²æŠ–å) |
| åˆ—è¡¨æ»šåŠ¨å¸§ç‡ | 60fps |
| åŒ…ä½“ç§¯ | < 2MB |

---

## ğŸ“ æ€»ç»“

### âœ… é¡¹ç›®ä¼˜åŠ¿

1. **UI/UX ç²¾ç¾** - é«˜ç«¯å¥¢ä¾ˆå“é£æ ¼ï¼Œäº¤äº’æµç•…
2. **ä»£ç è§„èŒƒ** - Vue 3 ç°ä»£åŒ–å†™æ³•ï¼Œç»„ä»¶ç»“æ„æ¸…æ™°
3. **è·¨å¹³å°** - UniApp ä¸€å¥—ä»£ç å¤šå¹³å°
4. **åŠŸèƒ½å®Œæ•´** - åŒ…å«ç”µå•†æ ¸å¿ƒé¡µé¢

### âŒ ä¸»è¦ä¸è¶³

1. **æ— åç«¯é›†æˆ** - æ‰€æœ‰æ•°æ®ç¡¬ç¼–ç 
2. **æ— å…¨å±€çŠ¶æ€** - åŠŸèƒ½ä¸èƒ½æœ‰æ•ˆè”åŠ¨
3. **æ— ç”¨æˆ·ç³»ç»Ÿ** - ç¼ºå°‘è®¤è¯å’Œä¸ªæ€§åŒ–
4. **ä¸å¯ç”¨çŠ¶æ€** - æ— æ³•çœŸæ­£å®Œæˆè´­ä¹°æµç¨‹

### ğŸš€ å‘å±•æ½œåŠ›

è¿™ä¸ªé¡¹ç›®æœ‰å®Œæ•´çš„ UI åŸºç¡€å’Œæ¸…æ™°çš„åŠŸèƒ½è®¾è®¡ï¼Œåªéœ€è¡¥å……ï¼š
1. åç«¯ API å¯¹æ¥
2. å…¨å±€çŠ¶æ€ç®¡ç†
3. ç”¨æˆ·è®¤è¯ç³»ç»Ÿ

å³å¯æˆä¸º**å¯ç”¨çš„å®Œæ•´ç”µå•†å°ç¨‹åº**ï¼

---

**æœ€åæ›´æ–°**: 2025-10-28
**åˆ†æå·¥å…·**: Claude Code + AI Exploration
**ä¸‹ä¸€æ­¥**: å®æ–½ P0 ä¼˜å…ˆçº§æ”¹è¿›
